{"ast":null,"code":"var Utils = require('./utils');\n\nfunction getColorAttrib(color, attrib) {\n  var alpha = color.a / 255;\n  var str = attrib + '=\"' + color.hex + '\"';\n  return alpha < 1 ? str + ' ' + attrib + '-opacity=\"' + alpha.toFixed(2).slice(1) + '\"' : str;\n}\n\nfunction svgCmd(cmd, x, y) {\n  var str = cmd + x;\n  if (typeof y !== 'undefined') str += ' ' + y;\n  return str;\n}\n\nfunction qrToPath(data, size, margin) {\n  var path = '';\n  var moveBy = 0;\n  var newRow = false;\n  var lineLength = 0;\n\n  for (var i = 0; i < data.length; i++) {\n    var col = Math.floor(i % size);\n    var row = Math.floor(i / size);\n    if (!col && !newRow) newRow = true;\n\n    if (data[i]) {\n      lineLength++;\n\n      if (!(i > 0 && col > 0 && data[i - 1])) {\n        path += newRow ? svgCmd('M', col + margin, 0.5 + row + margin) : svgCmd('m', moveBy, 0);\n        moveBy = 0;\n        newRow = false;\n      }\n\n      if (!(col + 1 < size && data[i + 1])) {\n        path += svgCmd('h', lineLength);\n        lineLength = 0;\n      }\n    } else {\n      moveBy++;\n    }\n  }\n\n  return path;\n}\n\nexports.render = function render(qrData, options, cb) {\n  var opts = Utils.getOptions(options);\n  var size = qrData.modules.size;\n  var data = qrData.modules.data;\n  var qrcodesize = size + opts.margin * 2;\n  var bg = !opts.color.light.a ? '' : '<path ' + getColorAttrib(opts.color.light, 'fill') + ' d=\"M0 0h' + qrcodesize + 'v' + qrcodesize + 'H0z\"/>';\n  var path = '<path ' + getColorAttrib(opts.color.dark, 'stroke') + ' d=\"' + qrToPath(data, size, opts.margin) + '\"/>';\n  var viewBox = 'viewBox=\"' + '0 0 ' + qrcodesize + ' ' + qrcodesize + '\"';\n  var width = !opts.width ? '' : 'width=\"' + opts.width + '\" height=\"' + opts.width + '\" ';\n  var svgTag = '<svg xmlns=\"http://www.w3.org/2000/svg\" ' + width + viewBox + ' shape-rendering=\"crispEdges\">' + bg + path + '</svg>\\n';\n\n  if (typeof cb === 'function') {\n    cb(null, svgTag);\n  }\n\n  return svgTag;\n};","map":{"version":3,"names":["Utils","require","getColorAttrib","color","attrib","alpha","a","str","hex","toFixed","slice","svgCmd","cmd","x","y","qrToPath","data","size","margin","path","moveBy","newRow","lineLength","i","length","col","Math","floor","row","exports","render","qrData","options","cb","opts","getOptions","modules","qrcodesize","bg","light","dark","viewBox","width","svgTag"],"sources":["C:/Users/danil/Documents/GitHub/PIXL_remote_host/node_modules/qrcode/lib/renderer/svg-tag.js"],"sourcesContent":["const Utils = require('./utils')\r\n\r\nfunction getColorAttrib (color, attrib) {\r\n  const alpha = color.a / 255\r\n  const str = attrib + '=\"' + color.hex + '\"'\r\n\r\n  return alpha < 1\r\n    ? str + ' ' + attrib + '-opacity=\"' + alpha.toFixed(2).slice(1) + '\"'\r\n    : str\r\n}\r\n\r\nfunction svgCmd (cmd, x, y) {\r\n  let str = cmd + x\r\n  if (typeof y !== 'undefined') str += ' ' + y\r\n\r\n  return str\r\n}\r\n\r\nfunction qrToPath (data, size, margin) {\r\n  let path = ''\r\n  let moveBy = 0\r\n  let newRow = false\r\n  let lineLength = 0\r\n\r\n  for (let i = 0; i < data.length; i++) {\r\n    const col = Math.floor(i % size)\r\n    const row = Math.floor(i / size)\r\n\r\n    if (!col && !newRow) newRow = true\r\n\r\n    if (data[i]) {\r\n      lineLength++\r\n\r\n      if (!(i > 0 && col > 0 && data[i - 1])) {\r\n        path += newRow\r\n          ? svgCmd('M', col + margin, 0.5 + row + margin)\r\n          : svgCmd('m', moveBy, 0)\r\n\r\n        moveBy = 0\r\n        newRow = false\r\n      }\r\n\r\n      if (!(col + 1 < size && data[i + 1])) {\r\n        path += svgCmd('h', lineLength)\r\n        lineLength = 0\r\n      }\r\n    } else {\r\n      moveBy++\r\n    }\r\n  }\r\n\r\n  return path\r\n}\r\n\r\nexports.render = function render (qrData, options, cb) {\r\n  const opts = Utils.getOptions(options)\r\n  const size = qrData.modules.size\r\n  const data = qrData.modules.data\r\n  const qrcodesize = size + opts.margin * 2\r\n\r\n  const bg = !opts.color.light.a\r\n    ? ''\r\n    : '<path ' + getColorAttrib(opts.color.light, 'fill') +\r\n      ' d=\"M0 0h' + qrcodesize + 'v' + qrcodesize + 'H0z\"/>'\r\n\r\n  const path =\r\n    '<path ' + getColorAttrib(opts.color.dark, 'stroke') +\r\n    ' d=\"' + qrToPath(data, size, opts.margin) + '\"/>'\r\n\r\n  const viewBox = 'viewBox=\"' + '0 0 ' + qrcodesize + ' ' + qrcodesize + '\"'\r\n\r\n  const width = !opts.width ? '' : 'width=\"' + opts.width + '\" height=\"' + opts.width + '\" '\r\n\r\n  const svgTag = '<svg xmlns=\"http://www.w3.org/2000/svg\" ' + width + viewBox + ' shape-rendering=\"crispEdges\">' + bg + path + '</svg>\\n'\r\n\r\n  if (typeof cb === 'function') {\r\n    cb(null, svgTag)\r\n  }\r\n\r\n  return svgTag\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}